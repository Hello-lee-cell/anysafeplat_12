11.10   计划添加密码验证				//代表未完成/完善
11.13	共享内存，解决进程信息传递问题
11.15	添加历史记录导出
11.15	规范extern使用
11.15	历史记录windows换行出错问题  使用“\r\n”
11.15	增加用户管理功能-----只建了窗体，未完成
11.16	传感器报警记录写入;/缺少一次性写入
11.16	修改某些char *为const char *，去掉了茫茫多的warning
11.16	历史记录界面
11.17	传感器报警记录写入，一次性写入
11.18	去掉警示按键（黄三角）
11.20	界面重做
11.22	==-1 换为<=0,可以使tcp通信修改为原来结构
11.23	界面修改，历史记录错误修改，历史记录界面与登录界面切换
11.24	误报修改：修改amount;mythread中增加延时10s
11.24	增加联系页面
11.25	修改历史记录界面
11.27	状态指示使用gif
11.28	设置中添加等待，防止设置过快使数据错误,同时删除mythread中的sleep
11.28	添加网络状态，将蜂鸣器置为报警驱动

12.01	目前版本为最新，最稳定，其他修改参照11.29  11.30

12.04	修改warn界面
12.04	统一mythread与tcp主动
12.05	uart通信问题：接收20字节改为19个，否则一直等待两秒
12.05	删除未使用的图片文件;加入液媒法检测
12.07	界面历史记录&界面联系我们，添加关闭之后的资源释放  /	！导致主窗体异常退出（猜测）
12.07	尝试改变历史记录界面，加快打开速度，减少窗体创建时的运算量
12.08	将mainwindow中的成员变量history connectus关闭方式改变为main信号+类内关闭，去掉history_exec()->close();等类似结构
12.08	所有窗体都用上述结构
12.09	取消采用共享内存，对传感器数量进行设置	/	计划改变UART部分结构为qt类
12.09	共享内存标志位改为flag_sensor_reset   /设置未完成，使用共享内存时，release版本会出问题，debug版本时间长了也有问题
12.11	共享内存标志位改为flag_sensor_reset
12.11	改变历史记录界面
12.11	液媒法写入配置文件;历史记录修改为2000条
12.13	增加：液媒法记录，液媒法数据上传;	/	通信日志内容添加	/
12.13	主界面背景图片及label修改
12.14	历史记录导出乱码问题：对文件导出部分作了修改：关闭打开的文件，添加O_TRUNC。很少发生，原因不明确	//
12.14	单片机不回，显示看不出问题，怎么解决？设备故障显示
12.19	通信协议修改：1.udp广播添加接收对逻辑节点的校验//
		   2.tcp主动发送添加本机状态改变状态主动发送;修改了目标逻辑节点总为0的错误
12.19	系统升级功能添加，可以通过u盘升级系统
12.26	添加用户管理功能	/
12.27	用户管理功能框架完成，添加输入指示，输入限制，错误检测，错误信息弹出指示/
12.27	屏蔽掉了mythread.c   serial.c   uartthread.c中必要的printf，需调试完毕后改回/
---------------------------------------------------2018------------------------------------------------------
01.05	用户管理功能完成
01.05	操作日志中添加开关机记录功能	/受flash寿命显示，方案不可行 so 只加了开机记录	/理解错误，增加关机功能即可 poweroff//
01.09	将类的定义由public改为private，正常应该使用private，需要验证功能是否正常	将systemset中的ipstr转到main中，config.h声明extern，需验证功能是否正常/
01.15	添加关机功能（意外断电的情况不考虑）
01.16	添加语音功能，音质差，中间音质差与程序也有关系	
01.16	0116_1目前最吊
01.23	升级功能添加二次确认
01.24	删除大量调试信息
01.24	删除二级密码界面
01.24	增加历史记录清除功能
01.24	规范设置界面中ok键的使用，将flag_mythread(一次写入),flag_sensor_reset（对单片机的uart）放到五个设置combobox中
01.24	增加登录后门
01.25	将01.24中flag_sensor_reset放回，否则会导致管道等项目设置不上
01.26	测试设备故障为什么会发生，原始版本01.25 01.26全天测试//
01.26	单片机复位检测，单片机意外复位，arm进行重新设置
01.29	添加故障检测“嘀嘀嘀”
01.30	改正01.24中的错误，添加一临时变量
02.08	演示用：压力法添加/	
02.25	添加了压力法（显示+语音）	/内蒙招标版本
03.03	修改U盘导出部分的程序，消除盘符不统一的影响	
03.12	完善历史记录的记录项目：1、操作日志(操作人、操作时间、操作项及内容)( 包括何时登录，传感器设置，IP设置，系统升级按键的记录)	/
03.13	增加固件升级按键以及相应的警告界面及按键操作，操作记录	/
03.19	将历史记录每页显示为14行，修改了历史记录显示文件
03.20	线程uartthread与mythread中，不能保证mythread中状态检测入口的原子性，Wait_Send_Flag在某种极难发生的情况下是无效的/		添加qmutex
03.22	调换void Data_Transfer（）中加油机与防渗池的打包顺序
03.22	将Arm对单片机数据检测的静电接地位0x8f改回0x88
03.23	添加防渗池与加油机语音(Ver1.5)	/
03.23	Qmutex加锁保护Uartthread
03.30	对网络设置部分进行了修改（warn.cpp systemset.cpp）
03.30	修改历史记录的操作日志、通信日志
03.30	main_main中TCP与UDP建立添加1S延时;udp.cpp listening线程放到了端口重用之后
04.03	Z-order警告消除
04.03	历史记录导出处两秒延时变为三秒
04.24	息屏功能添加/


05.21	添加雷达功能原始版本
05.21	改变系统设置的布局：
	1、将网络设置与传感器设置合并
	2、删除网络设置按钮
05.22	暂时取消登录密码！！！！！！！！！！！别忘了加上。。
05.22	去单片机	加上了校验
05.24	690四种传感器回复正常
05.25	已经能够同步至显示，但是非常不稳定	
05.28	尝试使用进程解决通信不稳定的问题（发送是正常的，接收不及时）（来自语音播放，mplayer是使用新进程播放，语音不会卡顿）
05.28	添加进程开启程序ask690
https://blog.csdn.net/imxiangzi/article/details/47960925
05.31	开始添加雷达设置界面	/
06.05	添加485data_process.c
06.05	添加雷达串口初始化
06.06	添加了缺少的变量，但是不知道这些变量有p用
06.06	添加主体界面中的坐标显示
06.07	区域输入完成，开始坐标系中绘图
06.09	增加每个区域当前点的显示
06.09	手动设置区域绘图部分完成
06.09	智能设置部分完善，通信部分梳理
06.13	使通信正常
06.14	稍微修改原uartthread中通信的结构，使之与雷达单片机程序相匹配
06.14	监控时间设置逻辑完善
06.15	智能设置部分完善:报警延长设置、自动取消静音
06.15	智能设置部分完善：室外报警使能，防区开启设置，灵敏度设置      /由于三个涉及通信，所以只做界面按钮
06.19	开始阈值设置	/
06.19	阈值设置处，阈值采集绘图完成
06.20	双路手动设置描点完成
06.21	修改区域自动设置
06.21	修改区域记录的四位数组，取消定义的area
06.21	修改错误：systemset.cpp  1908处用master_back_groud_value替换掉了原来左移八位的Back_Groud_Temp
06.22	配置文件存储
06.22	配置文件(区域信息)读取//文件读取有寄存器错误，原因未知---换了简单的数据转换方式，以前用的转换方式，没发现异常，暂时没有改
06.22	配置文件（背景信息）读取
06.22	阈值设置，双路自动设置曲线绘制
06.23	剩余未完成工作：	1 现在值存储了前九十个数据	ok
				2 阈值合成	ok
				3 报警检测
				4 负号添加
06.24	修正了阈值200三维数组存储错位的问题，使其配置信息能够正确初始化
06.24	添加了阈值合成，自动部分能更新，手动部分未开始工作	有/5 前面版本没有/5
06.24	计划添加报警检测//buf[17] == 0x81??
06.24	规划界面显示
06.25	雷达功能基本完成，自动区域设置未验证，报警状态需改进，按键逻辑还有比较大的修改 /
06.25	添加了雷达与泄漏界面切换
06.25	调试//  sound[]改位全局   改校验a0 0a  main中添加qsound线程
	测试无明显问题：语音无卡顿现象   雷达采集正常   报警点显示正常   
	但是未对细节作验证
06.26	添加人体静电
06.27	添加人体静电通信
06.27	修改显示界面
06.28	修改显示界面，雷达
06.29	添加完成人体静电
06.29	暂时去掉雷达主界面的报警点过滤
06.29	键盘添加负值
06.30	优化：雷达监控时间box字体修改，保存按键位置，添加了雷达自动区域设置点击后主界面的跳转
06.30	添加历史记录等待label
06.30	修改人体静电显示界面及分类连锁
07.03	人体静电通信故障不恢复的问题
07.03	阈值合成保持最高点，合成与更新
07.03	添加历史记录界面/
07.04	修改阈值设置自动曲线
07.04	历史记录写入
07.05	人体静电历史记录
07.05	添加雷达语音
07.05	雷达通信故障一次写入
07.06	按键逻辑优化
07.09	删除历史记录中的n个导航按键，只保留两个
07.10	雷达程序完善：双路手动设置;智能设置中报警功能，延时功能添加
07.11	修该智能设置中，自动取消静音存在的问题;添加灵敏度设置
07.11	添加时间设置
07.11	去掉多余代码
	模拟报警添加
	雷达只留一个防区
	背景备份//
	信息保存统一:区域设置，阈值设置在点击保存退出之后完成文本写入，其他即时生效
	区域切换，方式要改变
07.11	修改自动区域设置主界面取消按键
07.11	静音情况下，单个防区状态信息显示跳闪，so label改成俩
07.11	雷达停止后界面信息的清除
07.17	使用qtabwidget修改整体界面_主界面
07.25   使用qtabwidget修改整体界面——设置界面
07.25   设置界面按键逻辑完善
07.26	添加权限及相应功能隐藏  但是没有去掉空格后门并且密码都为空\\
07.26	添加模拟雷达报警语音
07.30   添加压力法数值显示,调整界面，完成基本的显示和隐藏功能。
07.31   增加调试模式的选择，完善通讯协议（会有通讯故障）,config.txt增加一位记录数值显示模式。
08.02	更改历史记录界面，添加可燃气体检测与在线油气回收的框架
08.04	记录导出小改动，删了俩label 压力法：更改为上下0.8偏差归零计数标志位，防止数据抖动重复计数。压力数值显示框大小调整
08.06	使用0712_4版本程序挂机，出现共享内存接收线程或进程死掉，尝试解决/
08.08	修改进程间通信的方式为文本
08.09	缺少进程检测:添加进程间通信检测，累计并报警  beep（系统故障）
	将QSound，ask690的程序启动放到anysafeplat中，使用qprocess，避免出现ask690死掉的问题
08.12	将进程间通信方式改回共享内存，但是不用qt下的函数
08.13	计划去掉wait_send_flag
/*****调试部分*****/
8.20	规范变量使用，测试是否会造成内存无限增长
8.24	更改启动方式，整体测试
8.27	整理程序
/******************/
08.27	添加数据库支持//
09.03	完成数据库建立连接，数据库列表初始化;管线一号的写入;继续框架移植，不进行具体完善
09.03	使用表格进行数据库内容的显示
09.03	数据库内容导出
09.04	单个表内容基本完成，完善显示界面（倒序显示，限制行数）
09.04	添加对多个项目的支持，布局（写，读取显示，导出）
09.04	controlinfo写入完成
09.05	多个表的写入 完成
09.05	多个表的显示支持,基本完成，计划去掉页码切换按键，细节待完善/
09.05	多个表的历史记录导出
09.06	记录删除，导出到Upan
09.08	修改雷达无线兼容的问题，加大雷达通信故障检测次数
09.10	添加油气回收部分图标//	
09.11	油气回收加油机数量设置及主界面显示;二级界面
09.13	配置油气回收通信硬件;加入reoilgas新线程用于油气回收通信(mainwindow中启动)
09.13	为方便调试，取消了登录密码，取消了qsound线程/////
09.14	单个油枪信息调试框架//未经测试
09.15	完善油气回收设置细节//
	<1>加油机数量设置 + tableview1 显示 + mainwindow相应显示
	<2>油枪参数设置 : tableview2 显示	内容写入文本
	<3>参数开机初始	
	<4>逻辑关系处理	
	<5>界面优化	
09.19	完善油气回收通信部分//
	<1>读状态		
	<2>读版本	
	<3>读设置	
	<4>写设置	
	<5>通信异常	//
	<6>5天数据分析	
09.20	读取状态分析	
	完成分枪数据写入数据库
09.21	零点数据分析
	5天数据分析
	按键数据分析
09.28	历史记录显示
09.29	重写qsqlrelationmodel类，进行表格的居中显示;
	数据写入及计算仅保留前两位小数
09.29	读版本信息,使用qmutex
09.29	写设置信息	
09.30	读设置信息
09.30	关枪继电器
10.08	集成可燃气体，油气回收压力、油气浓度部分
10.08	环境检测数值显示
10.09	环境检测的相关设置，阀门开启压力设置
10.09	添加可燃气体，设置及显示部分
10.10	添加气液比采集器通信故障状态
10.10	可燃气体存在问题,去掉所有qtimer改用while+sleep
10.11	加油机数量、校正因子流程规范，设置成功反馈及失败提示
10.11	油量、气量校正因子改为小数，添加换算发送给下位机
10.12	添加油气回收、可燃气体相关变量的初始化文本
10.12	历史记录限制显示200行
10.13	补充tankpre部分，连续报警天数的写入		//需整体测试功能
10.13	添加油气回收及可燃气体部分需要的qmutex...仅使用了flag_sync标志位，没加锁
10.13	环境检测历史记录写入完成
10.13	主键初始化修改，使记录主键连续，修正从0直接跳到2的错误
10.13	环境检测历史记录显示
10.15	可燃气体历史记录写入及显示
10.15	添加油气回收、可燃气体、环境检测的历史记录导出
10.15	历史记录缺少标题栏,添加
10.15	息屏功能完善：非主界面状态屏幕常亮;在主界面，屏幕5分钟息屏 	/30s  300s
10.16	息屏功能完善：添加fga报警提示
10.16	油气回收预警报警提示：屏幕常亮//
10.16	修改可燃气体通信中，压力变送器使能为零，会导致01不问的错误
10.16	添加了油罐压力，管道压力，气体浓度使能
10.17	油气回收预警报警提示：屏幕常亮/气液比报警情况下，不会息屏
10.17	环境检测：通信故障、报警屏幕常亮			
10.17	环境检测时间相关的预报警不合理，待修改//
10.17	u盘导出，历史记录延时label微调
10.17	环境检测若三个项目都关闭，则不再写数据库
10.17	气液比通信故障改蜂鸣器为屏幕亮
10.18	油气回收中，加油机数量为零，因为通信故障，屏幕不熄灭的问题;whichone选择过滤0xee条件修改
10.18	pv正负压初始化
10.18	lcd中息屏结构微调
10.18	程序经常卡死，查找原因	/	网络影响，之后调试没有频繁出现此现象
10.19	贴图，调整label位置
10.22	修改了一个油气浓度传感器故障
***************************************油枪需要改为6个//油罐问题需改为管线温度//
10.27	修改油枪个数为每个加油机六个
10.30	条件查询
10.31	加油机条件查询完成
10.31	时间条件查询完成
10.31	条件导出
10.31	油枪图表//
11.05	日温度曲线功能模板完成
11.05	月温度曲线功能模板完成
11.05	添加环境检测中的剩余项目//
11.08	油罐压力 日月曲线完成	//但是改模板可能存在问题
11.08	数据库主键初始化方式改为自增
11.08	油气浓度曲线功能添加
11.09	油枪al日曲线添加
11.09	修正5# 6#油枪详情 数组错误
11.12	油枪al月曲线添加
11.12	雷达bug修改;设置滚动条视觉
11.12	坐标取值范围自动取值;添加管道压力图表
11.13	12加油机6枪，部分遗留问题修改：al值不显示，累计天数不正确，显示状态不正确
11.13	添加图标legend
11.13	条件导出文件命名规则改为日期+项目
11.13	去掉2个qtimer singleslot，历史记录label更改即时显示（老问题）！
11.15	/×××××××××××××测试××××××××××××/
11.15	测试发现的问题：1、曲线最大值低与最小值  2、继电器不动作
11.15	pushbutton_4一天检测按钮，flag改为4,flag=3,造成某些设置不上
11.16	al日曲线逻辑修改
11.16	al月曲线逻辑修改
11.23	修改条件查询语句
12.07	历史记录处，油枪checkbox使能
12.07	程序，界面整理，样板站使用××××××！
/***********************2019**********************/
01.03	设置界面警告窗口几个透明错误修改
03.21	恢复密码
04.01	可燃气体检测新协议,工程名改为anysafe_plat
04.22	添加卸油流程               暂时屏蔽息屏功能  //Flag_Timeto_Closescreen--;//暂时屏蔽西屏功能   屏蔽reoilgas～ 51行 printf Select Next Reoilgas Sensor
04.23	IIE基本功能实现，增加静电的开关记录，    缺少屏蔽相关，只发一次信号相关，历史记录
05.06	IIE数据变化才发送一次显示信号,增加油气回收报警记录（仅包含油枪，暂时无压力油气浓度等报警信息）
05.07	增加IIE历史记录，增加液阻压力判断
05.08	增加环境监测历史记录,修改关闭环境检测的浓度后仍然显示通讯故障的bug
05.14	演示用  增加报警状态清除按钮在alptec用户名下
05.17	调整初始界面，可发货用  管线通讯故障检测成了油罐的，在此改为管线
05.20	设置油枪校准因子时，不在卡在设置过程中
05.21	夹子状态改为已触摸，未触摸
05.22	液阻计算，管线压力转换为pa。
05.27	修复液阻 bug，现场试用的时候会即使调成0，也有预警。
06.10	清除报警状态，仅仅清除报警状态，不清除历史记录
06.12	IIE通讯故障改为红色
06.26	增加液位仪，油泵网络数据，修改网络配置界面
07.01	增加网关设置，删除没用的图标,调整界面，版本号 V T2.1
07.02	添加加油枪编号映射表,生效在详细历史记录、桌面、?#加油机详情页面     液位仪开启关闭历史记录小bug修复
07.03	完善映射表，添加防撞柱串口,更改安全防护路径 CONFIG_SECURITY "/opt/jingdian/config_security.txt" 添加防撞柱通信框架
07.05	调整界面
07.09	增加到8枪，调整显示逻辑，调整映射抢号显示方式    可燃气体检测显示浓度LEL
07.29	尝试 历史记录只读取有限条数
08.05	8枪记录时映射表错误，油枪数据历史记录按时间排序bug修改
08.14	v 2.1.2  气液比0.9-1.3
08.22	增加防撞柱.剩余界面未做
08.29	防撞柱功能完善
09.09	更换登录图片
09.16	增加网络协议（福州标准） 单枪判断模式取消，   全部按双枪判断  修改拼写报文时，DATE写成了DATA
09.17	(取消right.gif和nosensor.gif替换为png图片!!!!png不可用，0920号换回gif)，雷达图片调整，减小程序体积  修改历史记录导出，之前有错误 增加网络上传开关
09.18	更改新压力表协议,修复fga1000问询bug。
09.18	潜油泵，液位仪开启关闭加入4S检测中去（已经不用了)
09.23	设置界面，新增网络设置   (0923发现BUG，联网检测功能，一直没有释放，造成所有文件打开失败)
09.25	增加ifis端口设置，增加滑块的大小，方便滑动,版本号 3.2.02
09.26	分离udp线程，防止内存溢出（挂机测试），调整差压表没有温度显示问题
10.10	油气回收历史记录增加id排序用；小于15L，小流量数据记录但不做分析；
10.11   添加油气回收气液比相关设置,内存占用显示
10.14	每天早上六点判断剩余空间，小于4M提示报警
10.15	隐藏不需要的界面（不太美观），调整系统设置界面  增加加油机当天分析中的超过1.2的和小于1.0的加油数据
10.21	增加压力表模式选择,调整网络,增加isoosi协议
10.25   新气液比采集器选择使用 Ver 3.2.04   自动获取ip地址写入到文件中  注意str= str.left(str.length()-1)的用法  调整了一些变量  试图解决内存泄漏 
10-26   修改fga1000问询流程，修复bug 挂机测试 
10-28	isoosi线程增加while循环
10-30	在此基础上增加湖北高速上面的泄漏监测程序  默认湖北协议关闭
10-31	湖北高速基本完成 版本号 3.2.05
11-01	完善湖北协议  修改单日不满15L的判断逻辑
11-04	fga数据加锁  每周时间校准仅仅在网络好用的时候 挂机测试 测试完成后稳定发货用？
11-07	大于5L做记录
11-08	增加2.0版本气液比采集器延时 修改压力表读取问题
11-11	油气回收网络数据上传屏蔽功能写入配置文本，按需读取  微调广州协议，设置数据增加油枪数目，环境数据去除温度
11-13	中石化泄漏监测主动上传报警信息要有时间信息
11-14	优化界面  显示数据分析中  3.2.08
11-15	增加油气回收报警弹窗，故障分析
11-18   弹窗逻辑完成，详情页还未显示
11-19	增加温度逻辑
11-21	增加油枪状态页面，还未添加报警信息详情页	
11-22	完善报警状态，红色显示  11-25	delete new QNetworkRequest(),防止内存泄漏
11-26	湖北高速泄漏数据上传，更改ip和端口 
11-27	雷达增加灵敏度设置
11-28	增加重庆数据上传 框架搭建
11-29	关联信号槽  测试  
11-30	重庆协议联通成功，小改tcp上传框架，小改post上传，net相关函数未用数据消除警告。  版本号3.2.09
12-04	改进isoosi协议通信读取机制，post增加地址设置，键盘改进
12-07	历史记录流畅改进，tcp连接接收延时500ms,接收到错误信息后不是断开，而是跳过，只有发送失败才断开重连
12-09	修改加油机详情连续报警天数一直是1号加油机的   版本号3.2.10
12-23	修改气液比范围调节bug 修复udp广播地址 获取ip地址 版本号 3.2.11
12-24   增加湖北协议   12-25 完善唐山协议
12-26	湖北协议,通信正常，总返回1
12-27	修复压力表数据采集正负计算bug
2020
01-03	抢号单独数组显示
2020-02-06	新增中油认证的协议，单项调通，未增加模式选择
2020-02-07	泄漏协议单项选择，选择完成后重启生效  !!!如果是自动获取IP，可能存在程序启动时还没能获取到IP 的情况，造成udp广播工作不正常！！
2020-02-08	取消在线监测油罐压力中的第三种报警判断（大于600，小于-1000的次数大于25%）
2020-01-14	增加无线模块的气液比采集器
2020-03-02	新增无线模块初始化命令
2020-03-04	无线部分优化测试，加入了服务器上传测试线程
2020-03-09	在线监测显示界面调整，显示字符增加，新增删除优盘盘符的按钮
2020-03-10	无线压力表、浓度传感器   修复#号加油枪状态（重要）
2020-03-10	优化主界面隐藏tab的显示效果、一体机的校准流程    (测试无线压力传感器)
2020-03-13	正常模式 修复fga中4-20毫安模块负向电流时的计算

